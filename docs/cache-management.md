# การจัดการแคชใน Laravel

## ประเภทของไฟล์แคชที่สำคัญ

### 1. Blade Views Cache
เมื่อ Laravel ประมวลผลไฟล์ Blade templates จะสร้างไฟล์ PHP แคชไว้ใน `/storage/framework/views` เพื่อเพิ่มความเร็วในการแสดงผล ไฟล์เหล่านี้จะมีลักษณะเป็นชื่อที่เข้ารหัสเช่น `046fec607a84fdd31c27822c495ab5c9.php`

### 2. Debugbar Files
ไฟล์ลอกของ Laravel Debugbar ที่เก็บข้อมูลการดีบั๊กในแต่ละ request ที่เข้ามา

### 3. Laravel Cache
ไฟล์แคชที่สร้างจาก Cache facade, คำสั่ง cache() หรือการใช้ cache driver แบบไฟล์

### 4. Routes และ Config Cache
แคชของการกำหนดเส้นทางและการตั้งค่าที่สร้างจากคำสั่ง route:cache และ config:cache

## คำสั่งที่เกี่ยวข้อง

### คำสั่ง Artisan
```bash
# ล้างแคช blade views
php artisan views:clear

# ล้างแคช debugbar
php artisan debugbar:clear

# ล้างแคชอื่นๆ ของ Laravel
php artisan cache:clear
php artisan config:clear
php artisan route:clear
```

### สคริปต์อำนวยความสะดวก
```bash
# ล้างแคชทั้งหมดในคำสั่งเดียว
bash tools/cleanup-cache.sh
```

## การจัดการแคชอย่างมีประสิทธิภาพ

1. **เมื่อควรล้างแคช**
   - หลังจากอัพเดตไฟล์ Blade views แต่ไม่เห็นการเปลี่ยนแปลง
   - เมื่อต้องการปลดล็อคพื้นที่จัดเก็บ
   - หลังการอัพเดตเวอร์ชันโปรเจค
   - เมื่อพบปัญหาแสดงผลที่ไม่ถูกต้อง

2. **การตั้งค่าล้างอัตโนมัติ**
   - ระบบตั้งเวลาไว้ล้าง debugbar cache ทุกวัน
   - แคชของ views จะถูกล้างทุกวันอาทิตย์หรือเมื่อขนาดเกิน 50MB

3. **สิ่งที่ควรระวัง**
   - การล้างแคชในระหว่างชั่วโมงเร่งด่วนอาจทำให้เว็บช้าลงชั่วคราว
   - ล้างแคชเมื่อจำเป็นเท่านั้น ไม่ควรล้างบ่อยเกินไปในระบบ production
   - หลังล้างแคช views แอปจะช้าลงเล็กน้อยเนื่องจากต้องสร้างแคชใหม่
